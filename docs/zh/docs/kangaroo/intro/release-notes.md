# 镜像仓库 Release Notes

本页列出镜像仓库 Release Notes，便于您了解各版本的演进路径和特性变化。

*[Kangaroo]: 镜像仓库的内部开发代号
*[Kpanda]: 容器管理的内部开发代号
*[Harbor]: 一个开源的镜像仓库工具，是 CNCF 毕业项目

## 2023-07-31

### v0.20.0

- **修复** 修复部分镜像拉取失败导致的在线创建harbor不成功问题
- **修复** 修复admin用户权限点与自定义角色权限点数量不一致问题
- **修复** 修复部分权限溢出问题

## 2023-06-30

### v0.19.0

- **修复** 修复工作空间无法删除，提示需要解绑镜像空间，实际镜像空间没有该工作空间的绑定关系问题

## 2023-05-31

### v0.18.1

- **优化** 使用harbor普通管理员集成到镜像仓库后，生成登陆指令提示不准确问题优化
- **修复** 修复应用工作台的镜像选择器接口分页错误

## 2023-04-30

### v0.17.0

- **优化** Docker/Jfrog 类型仓库删除镜像提示优化
- **优化** 镜像下载次数优化
- **优化** 【管理员】视角下 Docker/Jfrog 类型仓库镜像空间列表优化

## 2023-03-29

### v0.16.1

- **新增** 提供通过 LoadBalancer 模式部署 Harbor 的最佳实践文档
- **新增** 支持在 Kpanda Helm 应用更新升级 Kangaroo
- **修复** 修复 Docker Registry【镜像删除】删除镜像失败
- **修复** 修复普通租户（wsadmin 权限）创建镜像回收规则失败
- **修复** 修复自定义角色托管 Harbor 的创建和删除两个权限点依赖项有误
- **修复** 修复创建镜像仓库时，如果描述写了中文会报错

## 2023-01-31

### v0.15.0

- **修复** 关联 jfrog 镜像仓库 -> 查询镜像空间报错
- **修复** 生成登陆命令失败

## 2023-12-29

### v0.14.0

- **优化** 兼容支持非法的 K8s 用户名
- **修复** 大规模镜像同步时占用较大带宽问题
- **修复** 单个镜像空间中存在大规模的镜像查询延迟较高问题

## 2023-11-30

### v0.13.1

- **修复** 镜像空间绑定工作空间失败问题
- **修复** 生成登录指令时，对所有公开的镜像空间都授权了问题

## 2023-10-31

### v0.12.0

- **新增** 非白金版本创建托管 Harbor 支持快速部署中间件
- **新增** 发布 Harbor Nginx 配置最佳实践
- **新增** 发布镜像仓库资源规划最佳实践
- **优化** 创建托管 Harbor 资源校验优化
- **优化** 安装 Harbor Operator 依赖 cert manager 提示

## 2023-09-06

### v0.11.0

- **新增** 托管 Harbor 状态校验
- **新增** 上线到下载站
- **新增** Nginx 代理最佳实践、资源容量规划最佳实践方案
- **优化** 修复托管 Harbor 描述无法更新问题
- **优化** 点火镜像仓库镜像空间显示不全
- **优化** WS admin 创建回收规则前端报错

## 2023-08-02

### v0.10.0

- **新增** 输出镜像仓库迁移/备份/恢复方案，已通过迁移 release-ci 仓库验证
- **新增** 输出非安全镜像仓库登录最佳实践方案
- **新增** 创建托管 Harbor 支持使用内部中间件 MINIO
- **新增** 适配人大金仓的 PG 模式
- **优化** 创建托管 Harbor 时对 pg、redis 地址进行格式校验
- **优化** 无权限置灰 + 提示优化
- **优化** 集群解绑后的特殊情况处理

## 2023-07-02

### v0.9.0

- **新增** 创建托管 Harbor 支持选择中间件 `minio` 实例
- **新增** 支持 `Ghippo` 重点审计功能
- **优化** 删除工作空间（WS）时校验该 `WS` 下的镜像仓库资源
- **优化** 处理解绑集群后，托管 Harbor 的异常状态
- **修复** `Ghippo workspace` 资源无法解绑的问题
- **修复** `Sidecar` 注入问题
- **修复** 创建 Harbor 选择 __minio__ 时，无法推送镜像的问题

## 2023-06-05

### v0.8.0

#### 新功能

- Harbor 类型仓库增加镜像描述信息
- 镜像空间列表增加实例状态
- 创建 Harbor 支持随机生成 `nodeport` 端口号
- 创建 Harbor 校验 `redis`、`postgresql`、`s3` 是否重复使用
- `project` 支持镜像回收功能

#### 修复

- **修复** 离线部署托管 Harbor 镜像地址拼接错误
- **修复** Docker Registry 类型  __project__ 列表分页问题
- **修复** Docker Registry 类型 `repository` 搜索问题
- **修复** 机器人账号创建时已存在问题

#### 优化

- 添加 job 清除逻辑
- 去除获取临时登录指令接口中 `project` 字段
- 登录指令优化
- 镜像扫描判断逻辑优化

## 2023-05-08

### v0.7.0

#### 新功能

- **新增** 支持页面配置多实例之间的镜像同步
- **新增** 在工作空间中支持关联 `jfrog` 类型仓库
- **新增** 支持在离线 `ARM` 环境下创建托管 Harbor

#### 修复

- **修复** 仓库集成 URL 修改后不能被更新的问题
- **修复** `Project` 从原生 Harbor 页面删除后逻辑不兼容情况

#### 优化

- **优化** 对接 `jfrog` 接口性能到 `2s` 内

## 2023-04-07

### v0.6.2

#### 新功能

- **新增** 支持全局管理中的自定义角色，对用户授予不同的角色权限
- **新增** 支持生成临时登录指令。
- **新增** 创建托管 Harbor 支持`cpu、memory` 校验
- **新增** 创建托管 Harbor 支持编辑镜像扫描器
- **新增** 创建托管 Harbor 支持使用 `S3` 存储

#### 修复

- **修复** harbor-operator helm 安装字节过大的问题

#### 优化

- **优化** 镜像列表功能页面性能，单独提出  __Project__ 列表页面

## 2023-03-15

### v0.5.0

#### 新功能

- **新增** 支持创建托管 Harbor 支持`NodePort` 方式暴露，并校验端口是否被占用
- **新增** 支持创建托管 Harbor 支持`https` 方式暴露
- **新增** 支持创建托管 Harbor 支持开启 `DCE 5.0 ODIC` 接入，实现使用 `DCE 5.0` 用户登录 `Harboor`
- **新增** 支持创建托管 Harbor 支持校验部署的集群是否安装 `harbor-operator`
- **新增** 支持创建托管 Harbor 支持使用中间件模块部署的 __redis__ 实例
- **新增** 支持创建托管 Harbor 支持修改 `Admin` 密码、资源配额、`Redis` 实例、访问类型
- **新增** 支持创建托管 Harbor 支持自动创建镜像扫描器
- **新增** 支持仓库集成，关联仓库校验用户密码以及用户权限
    - **新增** 支持仓库集成校验用户名密码正确，并且保证用户具备管理员权限
    - **新增** 支持关联仓库校验用户名密码正确
- **新增** 支持仓库集成列表新增模糊查询
- **新增** 支持页面编辑 `Project` 为公开或者私有
- **新增** 支持 Harbor、Docker Registry 类型的仓库多架构镜像页面显示

#### 修复

- **修复** 支持关联仓库接入 `https` 的 Harbor、Docker Registry 仓库

## 2022-12-30

### v0.4.0

#### 新功能

- **新增** 支持基于 Harbor 创建托管镜像仓库
- **新增** 支持多副本部署
- **新增** 支持对镜像仓库的全生命周期管理
- **新增** 支持将托管 harbor 实例部署在平台的任意集群下的任意命名空间
- **新增** 支持平台接入和管理外部 Harbor、Docker Registry 镜像仓库
- **新增** 支持为平台工作空间（租户）单独分配私有镜像空间
- **新增** 支持创建公开/私有镜像空间
- **新增** 支持工作空间（租户）独立接入外部 Harbor、Docker Registry 镜像仓库
- **新增** 支持部署应用时通过镜像选择器选择镜像
- **新增** 支持镜像扫描
