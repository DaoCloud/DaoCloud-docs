# 云原生存储

云原生化存储的几种类型：

1. **传统存储云原生化**，通过 CSI 标准 同 Kubernetes 平台对接，此类型相对来说比较普遍，
   用户可利用现有存储，并且基于传统存储的提供云原生存储能力稳定性好，SLA 强保障。
2. **软件定义存储云原生化**，软件定义存储，兼容传统应用和云原生应用。同样基于 CSI 标准同
   Kubernetes 对接。软件定义存储通过网络使用企业中的每台机器上的磁盘空间，
   并将这些分散的存储资源构成一个虚拟的存储设备，数据分散在不同的存储设备中。
3. **纯云原生存储**，此种类型的存储类型天然为云原生而生，构筑于云原生平台之上，能比较好的契合云原生特性，
   并可随着应用 Pod 的迁移而迁移，具备如下特性：高可扩展性，高可用性，但相对于 通过 CSI 标准接入的传统存储可靠性低一些。

## DCE 云原生存储

DCE 5.0 云原生存储基于 Kubernetes CSI 标准，可根据不同 SLA 要求及用户场景对接符合 CSI 标准的存储。
DaoCloud 推出的云原生本地存储天然具备云原生特性，满足容器场景中高扩展性、高可用性等特点。

![云原生存储](https://docs.daocloud.io/daocloud-docs-images/docs/storage/images/nativestorage.jpg)

## 背景

**中间件服务上云的存储需求**

1. 云即将成为新数字体验的核心，数据库、消息队列等中间件上云数量正在激增。
   而在中间件等有状态应用上云过程中，如何保障业务应用的高性能及高可靠性是企业需要面对的问题。
2. 对于物理设施存算融合场景，如何利用现有的设备存储空间满足有状态应用上云需求。
3. 随着越来越多关键性应用上云，对于云上存储如何实现高效运维，如何保障数据存储的可靠性，如何实行全面的包括应用/控制面/后端设备监控也将成为新的挑战。

**云边协同场景中的存储方案**

在 Garner 2021 的十大云趋势预测中，边缘计算成为新云。
在边缘场景中，边缘端也存在数据存储需求以及边缘数据预处理需求。
在边缘端，一般采用存算融合，但边缘的资源有限，如何基于边缘端进行一定的数据存储和数据计算，同样也是云边协同场景中需要解决的问题。

![云边协同场景](https://docs.daocloud.io/daocloud-docs-images/docs/storage/images/storagescenario.png)

## 挑战

**企业就绪挑战**

数据库、消息队列、大数据等有状态关键应用逐步上云，对于云上存储的性能（吞吐、时延）有新的更高的要求，此时如何满足高性能需求。

与此同时高效运维，保障数据存储的可靠性监控，实现全面的监控及问题预警，包括展示应用级/控制面挂载点以及后端设备的监控数据，并形成全链路监控，并能快速锁定存储问题。

**敏捷化挑战**

云原生应用场景对服务的敏捷度、灵活性要求非常高，很多场景期望容器的快速启动、灵活的调度，这样既需要存储卷，也需要敏捷地根据 Pod 的变化而调整。

1. 云盘挂载、卸载效率提高
2. 可以灵活的将块设备在不同节点进行快速的挂载切换
3. 提供存储服务的问题自动修复能力，减少人为干预
4. 在线扩容能力，为适用容器的快速扩容，如何实现应用业务不受影响的情况下在线扩容？
5. 随着越来越多的有状态应用容器化以及有状态应用部署在同一个集群，在集群规划业务分区域使用场景中，应用如何根据存储类型自动进行调度？

**降本增效挑战**

目前，数据中心计算密度提高的同时，如何解决存储性能瓶颈？

1. 定位排障性能和可用性问题（计划外的设备故障、故障定位及恢复）
2. 构建、配置、维护和扩展应用程序的复杂性（不同的部署环境及软件技术栈）
3. 存储瓶颈：解决计算瓶颈之后，则存储能力将成为制约计算密度的瓶颈
4. 业务应用按照业务峰值规划及设计，计算资源、存储资源的闲置率 ≥ 50%。成本高，如何感知业务进行自动扩容等资源均衡。
