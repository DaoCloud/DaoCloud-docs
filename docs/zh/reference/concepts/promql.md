# 查询语言 PromQL

Insight 内置了一个强大的数据查询语言 PromQL。

Insight 是一个时间序列构成的数据库，所有保存在 Insight 里的数据都是按时间戳和值的序列顺序存放的，称为 Vector（向量）），因为是 NoSQL，相比关系型数据库 MySQL 能很好地支持大量数据写入。

从最新测试结果看，在硬件资源充足地情况下，Insight 单实例每秒可采集数十万条。

每一次数据采集得到一个 Sample（样本），其由三部分组成：

- Metrics（指标）：包含了 Metrics name 以及 Labels。

- Timestamp（时间戳）：当前采样的时间，精确到毫秒。

- Value（采样值）：其类型为 float64 浮点数。

通过 PromQL 可以实现对监控数据的查询、聚合。同时 PromQL 也被应用于数据可视化（通过 Grafana）以及告警当中。

通过 PromQL 可以轻松回答以下问题：

- 在过去一段时间中 95% 应用延迟时间的分布范围

- 预测在 4 小时后，磁盘空间占用大致会是什么情况

- CPU 占用率前 5 位的服务有哪些
