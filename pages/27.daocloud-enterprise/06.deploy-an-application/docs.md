---
title: 追踪事件最佳实践指南
---

你可以向 DaoVoice 发送任何有趣的、用户执行的操作。这些活动会被存储为事件（Events）。
根据你的喜好，事件可以是简单的，也可以是复杂的。DaoVoice 会记录事件发生的次数和事件第一次和最后次发生的时间。
一旦你将这一数据发送到 DaoVoice，你就可以根据这些事件过滤用户群，并在时间发生时发送自助消息。

以下是你可以利用“事件”特征进行追踪的一些例子: 

 * 你可以追踪用户最近执行的一次操作。例如，他们最后一次导出PDF或者是他们最近一次联系支持系统的时间。
 * 你可以追踪用户第一次选择的支付套餐,或第一次使用折扣代码的时间。
 * 你可以追踪到用户邀请别人来你的服务器的时间。
 * 你可以追踪到用户在你网站上下订单的时间。

## 事件 VS 用户属性:

 *  用户属性是关于用户的数据，例如：他们在你的应用程序上创建一个项目多少次。这只是具有单一信息的简单值。  
 *  事件能告诉我用户在什么时候做什么的信息，例如他们第一次创建项目,以及最近期创建项目的时间。

## 用户属性适用于：

 *  关于用户的描述性信息，如配置文件数据、区域/国家,订阅类型,或设备数据。
 *  会被更新的简单值，如最后活动日期，粉丝数量，或者这个值可以为 true ，如完成一次产品体验。

DaoVoice 会记录事件发生的次数和事件第一次和最后次发生的时间，因此非常适用于：

 *  活动，如使用过一个特定功能或一个特定功能被使用的次数。
 *  当数据发生了变化,如订阅套餐的改变或最后一次下单时间的更新。
 *  可能只是某一段时间所需要的数据，如最初使用的功能。

实例一: 记录订阅套餐

对于某一客户正在进行中的订阅套餐，你是可以使用用户属性进行追踪的。
然后你可以过滤并给所有这一订阅套餐的用户发送信息。
另一方面，将用户改变订阅套餐作为一个事件记录则是最合适不过的；
你可以看到过去30天内所有改变订阅套餐的用户。
当然，你可以综合所有的数据。

比如：如果你想知道谁在过去的30天内降格至你的最低计划，你的过滤器应设置为：
   Plan = pro_plan（这是一个标准的用户属性）     
	过去30天内 修改套餐（这是一个事件）


实例二：记录购买信息

用户属性适用于记录用户的消费额总量，因为它是一个单值，而且随着时间的推移会不断更新。
而个人订单更应被记录为事件，以便于了解客户的下单周期。 

 你可以通过 DaoVoice 捕获多种事件。 例如：


### 升级订阅

在这个例子中，用户将订阅从基本套餐升级为专业版套餐。我们可以把它作为一个普通的事件，就像这样：
之后，我们可以发送一条自动信息感谢用户的升级。我们也可以通过发送事件的一些元数据给自动消息添加上下文，如：

 *  新计划的名称
 *  新计划的价格
 *  原计划的名称
 *  原计划的价格
 *  更新的日期

### 产品功能使用

在这场景中，我们以用户使用应用程序上新的邮件功能为例。
通过追踪这样的事件，我们可以就新的邮件功能进行产品研究，联系我们的用户以找出“我们产品的优势？”和“哪些需要改善？” 

### 购买

在这场景中，我们将记录用户购买了一个电子游戏的信息。
这将允许我们向该用户发送一个相关的其它商品或是一个感谢购买的信息。
以及一旦购买行为出现，我们会发送一些额外的元数据:  

* 所订物品的名称  
* 一个链接零售网站的订单号。我们可以使用一个超链接，使订单号和链接标题一同展示出来。
* 下单时间。我们可以将这个作为一个时间戳来发送，为事件提供一个清晰可读的日期。  
* 订单金额。 
* 条形发票。我们还将创建一个链接至条形发票。

### 查看页面

你可能想知道哪些用户曾多次查看某一特定的页面。例如用户多次访问你的价格页面，也许他们有一定兴趣要订阅套餐。
或者当用户购买后到达确认页面时，你可以向他们发送一条感谢购买的信息。
如果你想知道哪些用户访问你的价格页面超过20次，你可以过滤你的用户列表。

### 登录

<!-- 你或许想看到一个记录过去一个月内登录你的产品页面超过20次的用户列表。 -->
你或许想通过列表显示所有过去一个月内登录你的产品页面超过20次的用户列表。

### 收费

追踪你的用户的购买时间或订阅费用是很重要的。因为这会使追踪的未支付款更容易。

### 邀请朋友

如果运行一个推荐方案，你会想看看有多少人首次邀请了一位朋友。
你还可以看到这些用户是谁，以及所有你所记录的关于此事件的元数据，如：
推荐方案的名称和开始实施方案的日期。然后你可以为你用户的帐户提升余额，并感谢他们。

### 删除订阅

你可能想知道在过去的两个月内有哪些用户删除了他们的订阅，以此调查是什么原因促使这些用户离开。
你可以向 DaoVoice 发送任何你想要发送的事件。

### 基于事件的过滤和消息传递 

通过过滤事件，你可以让 DaoVoice 向你展示：  

* 所有创建过两个以上应用的用户。  
* 所有在超过5天前创建了第一个应用的用户。

如果我们想要将信息发送到一个更具体，更为活跃的顾客群中，我们可以将这些规则用 DaoVoice 标准用户属性进行过滤，例如“最近访问”这个过滤条件。

### 如何提交事件

 有两种方法可以将事件发送到 DaoVoice ：

####  1. DaoVoice 的 JavaScript 库

 方法如下：你可以使用 trackEvent 方法提交一个事件。
这将把事件与当前登录用户联系起来并发送给 DaoVoice。
最后一个参数是一个可以用来发送可选的关于事件的元数据。 

daovoice(‘trackEvent’、‘invited-friend’); 

事件与元数据：

var metadata = {
  invitee_email: 'pi@example.org',
  invite_code: 'ADDAFRIEND'
};

daovoice('trackEvent', 'invited-friend', metadata);

####  2. 访问 REST API

 查看到我们的 API Documentation 以获得更多细节。
 对于你在 DaoVoice 所创建的每个事件，我们会为每位用户作以下记录:

 * 该用户第一次触发的时间
* 该用户最近接触的的时间
* 它出现的总次数

<!-- 我们还提供通过Segment.io进行事件传递。 -->

####  在 DaoVoice 中查看事件

 事件在 DaoVoice 的两个地方是可见的。
事件会整合，并一个展示在用户详情的页面。
每个单独的事件出现在用户详情的活动以及其他部分和对话等活动。

#### 如何删除事件？

 按照以下步骤归档事件:

1. 打开位于屏幕右上角的 DaoVoice 设置菜单，点击齿轮图标。 
2. 选择“设置”(app)。 
3. 从左侧菜单中选择“事件”。 
4. 找到你想要归档的事件并点击“归档”。

如果你改变了想法，你可以稍后再取消事件的归档。

####  元数据支持

 正如我们已经提到的，你可以发送任何一个事件的元数据。
我们会将它保存在 DaoVoice 中，你也可以在 DaoVoice 中看到它。

支持的数据类型多达5种以上，支持的类型如下：

元数据								描述 

字符串								一个普通的字符串 数字
正数或负数 日期				一个时间戳，我们将展示作为一个可读的日期 链接
一个http或https 			url：我们将创建一个链接 超级链接
一个http或https链接		与一个标题一同发送，我们将创建一个链接 
图像									一个http或https连接到一个图像会被展示 
条纹(零售)						条纹的发票，客户或标识符，我们将创建一个链接
 货币(零售)						货币数量

如何发送元数据的详细信息,请参阅我们的 ()[API Documentation]。

 请注意，目前暂不可以基于事件元数据分割用户或是向用户发送信息。

##  捕捉事件的最佳实践

虽然我们认为行为和数据分析有一定作用，事件不应用作底层的行为指标。
相反，其目的是与用户进行交谈。
老实说，我们认为通过这种方法去了解你的客户，从中收获到的乐趣要远远超出你盯着图表和图形看。

有鉴于此,我们有一些关于如何最好利用事件的建议：

1. 发送有意义的事件。一个对话产生的良好基础是购买，而不是记录所有能够产生购买的点击。有意义的事件也将使创建过滤器和自动发送信息更容易。
2. 发送事件，并将它们当成是你的用户与你的业务之间的社交互动。以及最近的事件时间轴，从概要文件页面中可见，DaoVoice 中你的每一个用户都有自己的活动时间。
3. 发送足够的元数据。元数据是研究活动的极好方式，但发送太多可能会造成干扰。记住,你可以链接回到自己的系统查看更多的细节。
4. 使用事件来理解用户与用户之间的相互的邀请和社交活动。你可以使用元数据清晰地了解用户是如何与他人、与你的业务交流的
5. 零售购买或套餐更改，你可以使用条纹、货币和日期的元数据扩展，在完整的条件下观察事物
6. 相关的支持活动，你可以发送urls链接回你自己的系统和使用计数和日期过滤，看看哪些用户正在联系及联系的频率。
7. 在 DaoVoice 中，将你的事件命名为通俗易懂的名字。使用过去时态动词作为事件名称的开头可以使出现在用户活动提要内的行动更加容易理解，如：“购买商品”，“创建一个概要文件”或“完成产品体验”。


### 事件的常见问题

####  应该发送什么类型的事件？

一个事件应该是你想要与客户讨论的。因此，你可以发送：  

* 邀请其他用户等社交活动  
* 零售订单等活动  
* 订阅活动如计划的改变，升级或取消  
* 网站和应用程序新功能的使用

#### 应该如何称呼我的事件？

我们建议使用较短，易记的名字来命名你的事件，代表着你想要了解用户的行为。
使用动词作为事件名称的开头可以使出现在用户活动提要内的行动更加容易理解，如：
“购买商品”，“创建一个应用”或“查看产品概述”。
或过去时态的动词,如：
"Purchased an item", "Created a app" or "Viewed the product tour"
这是因为事件名称不仅仅是用于机器处理，在过滤和分类中也会被用到，而且还将出现在最近的事件时间轴中。

#### 应该使用事件增加点击流和页面印象吗？

我们不建议发送像点击流这种数据量—他们的信号噪声比意味着他们不会像记录你用户的重要行动一样有用。
例如完成一个订单的行为对于分割和传递消息的用途远远超出尝试通过页面印象创建分割从而达到这一行为的作用。
低级别事件还会使得过滤表格和活动流杂乱，使它们不能发挥出原有的作用。

#### 我能获取事件回调吗？

目前，我们还不支持将事件回调，但是在未来的API发展道路上，我们会考虑这一点。 

#### 我可以发送的事件类型有数量限制吗?

你可以创建120种类型的事件，这是极限。我们不会存储超过这一限制的事件类型，而且它将会被作为一个错误返回。

#### 为什么我可以发送的事件类型会有数量限制呢？

限制事件的数量可以降低网站上的杂音，方便你过滤和分类用户。
它还有助于避免在尝试记录和过滤低级别用户时出现问题。
 我可以发送什么类型的元数据？ 你可以发送：  

* 普通的字符串、日期和数字  
* 链接和图片链接  
* 货币金额和货币  
* 条形发票，客户和收费标识

#### 我可以筛选或搜索元数据吗？

目前，我们尚不支持筛选或搜索元数据。
当前元数据主要是为活动流中事件添加上下文本，但在未来我们将会发展过滤和搜索事件元数据。 

#### 我可以发送的元数据有数量限制吗？

目前，我们支持每个事件发送5个元数据。如果你需要发送超过这一数量的元数据，请与我们联系。

#### 我可以向事件名称发送什么样的值? 

字母a - z、A – Z、数字 0 - 9、下划线和连字符。下面这些特殊的值也适用于事件名称：  

* 时间(.)，美元($)，空格替换为连字符。  
* 事件名称不分大小写，事件“Contacted-Support”和事件”contacted-support”会被视为相同的名称。

#### 我可以发送什么样的值来创建事件时间?

创建的时间是一个Unix时间戳，测量运行自上周四以来的秒数，1970年1月1日，世界时间代码，我们也将作为第二分辨率存储在世界时间代码——我们不支持提交一个时区的时间戳。注意，高分辨率的时间戳(例如毫秒)的发送会被完善为秒。

#### 事件的消除复制的功能是如何工作的？ 

用以下数据对每个事件进行标识:  

*  事件名  
*  创建的时间戳  
*  启动该事件的用户
*  用户所属的应用程序

任何两个以上值都相同的事件会被认定为相同事件。因此，在接收了事件的第一个副本后，我们不会再存储该事件任何其它的副本。
注意，目前我们会在看到第一个事件的48小时内保留删除信息，但这是可能发生变化的。